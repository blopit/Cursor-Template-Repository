---
description: Environment variable configuration for UserProxy MVP (Expo + Vercel)
globs: 
alwaysApply: false
---
# Environment Variables for UserProxy MVP

## Expo App Environment Variables

### 1. Add to `app/env.example`:
```bash
# Auth0 Configuration
EXPO_PUBLIC_AUTH0_DOMAIN=your-domain.auth0.com
EXPO_PUBLIC_AUTH0_CLIENT_ID=your_client_id

# API Configuration  
EXPO_PUBLIC_API_URL=https://your-api.vercel.app
EXPO_PUBLIC_API_TIMEOUT=10000

# Feature Flags
EXPO_PUBLIC_DEBUG_MODE=false
```

### 2. Create environment-specific files:
- `app/env.development` - Development environment
- `app/env.staging` - Staging environment  
- `app/env.production` - Production environment

### 3. Expo Configuration:
In `app/app.json`:
```json
{
  "expo": {
    "extra": {
      "auth0Domain": process.env.EXPO_PUBLIC_AUTH0_DOMAIN,
      "auth0ClientId": process.env.EXPO_PUBLIC_AUTH0_CLIENT_ID,
      "apiUrl": process.env.EXPO_PUBLIC_API_URL
    }
  }
}
```

## Vercel Functions Environment Variables

### 1. Add to `api/.env.example`:
```bash
# Auth0 Configuration
AUTH0_DOMAIN=your-domain.auth0.com
AUTH0_CLIENT_ID=your_client_id
AUTH0_CLIENT_SECRET=your_client_secret

# Database Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_KEY=your_service_key

# Vector Database
PINECONE_API_KEY=your_pinecone_key
PINECONE_ENVIRONMENT=your_env

# Cache & Queue
REDIS_URL=redis://localhost:6379

# AI Services
OPENAI_API_KEY=your_openai_key

# External APIs
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_secret

# Monitoring
DATADOG_API_KEY=your_datadog_key
```

### 2. Vercel Environment Variables:
Set in Vercel dashboard or using CLI:
```bash
vercel env add AUTH0_DOMAIN
vercel env add SUPABASE_SERVICE_KEY
vercel env add OPENAI_API_KEY
```

## Environment Variable Access

### In Expo App:
```typescript
import Constants from 'expo-constants'

const auth0Domain = Constants.expoConfig?.extra?.auth0Domain
const apiUrl = Constants.expoConfig?.extra?.apiUrl
```

### In Vercel Functions:
```python
import os

auth0_domain = os.getenv('AUTH0_DOMAIN')
supabase_url = os.getenv('SUPABASE_URL')
openai_key = os.getenv('OPENAI_API_KEY')
```

## Security Guidelines

- **Never commit `.env` files** to version control
- Use `EXPO_PUBLIC_` prefix for client-side variables only
- Store sensitive keys (API keys, passwords) server-side only
- Use different values for development/staging/production
- Rotate API keys regularly

## Required Environment Variables by Week

### Week 1: Foundation
- `EXPO_PUBLIC_AUTH0_DOMAIN`
- `EXPO_PUBLIC_AUTH0_CLIENT_ID`
- `AUTH0_CLIENT_SECRET` (server)

### Week 2: Data Connectors  
- `GOOGLE_CLIENT_ID/SECRET`
- `SUPABASE_URL/ANON_KEY/SERVICE_KEY`
- `PINECONE_API_KEY`

### Week 3: AI Agents
- `OPENAI_API_KEY`
- `REDIS_URL`

### Week 6: Monitoring
- `DATADOG_API_KEY`